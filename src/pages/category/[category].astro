---
import MainLayout from "../../layouts/MainLayout.astro";
import ArticlesList from "../../components/ArticlesList.astro";

const posts = (await Astro.glob("../posts/**/*.{md,mdx}")).sort(
	(a, b) =>
		new Date(b.frontmatter.date).valueOf() -
		new Date(a.frontmatter.date).valueOf()
);

const { category } = Astro.params;
---

<MainLayout>
	<ArticlesList
		posts={posts.filter((post) => post.frontmatter.category === category)}
	/>
</MainLayout>
